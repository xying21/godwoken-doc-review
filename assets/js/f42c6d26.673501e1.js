"use strict";(self.webpackChunkckb_sdk=self.webpackChunkckb_sdk||[]).push([[2410],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return k}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),k=r,h=u["".concat(l,".").concat(k)]||u[k]||d[k]||a;return n?o.createElement(h,i(i({ref:t},p),{},{components:n})):o.createElement(h,i({ref:t},p))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8949:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return k},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return d}});var o=n(7462),r=n(3366),a=(n(7294),n(3905)),i=(n(4996),n(9960),["components"]),s={id:"integration",title:"Integration Guide for Ethererm Developers"},l=void 0,c={unversionedId:"integration",id:"version-1.1(WIP)/integration",title:"Integration Guide for Ethererm Developers",description:"",source:"@site/versioned_docs/version-1.1(WIP)/integration.md",sourceDirName:".",slug:"/integration",permalink:"/godwoken-doc-review/integration",draft:!1,tags:[],version:"1.1(WIP)",frontMatter:{id:"integration",title:"Integration Guide for Ethererm Developers"},sidebar:"sidebar2",previous:{title:"Godwoken Web3 API Compatibility",permalink:"/godwoken-doc-review/web3Compatible"},next:{title:"Godwoken-kicker",permalink:"/godwoken-doc-review/godwokenkicker"}},p={},d=[{value:"Why Develop on Godwoken?",id:"why-develop-on-godwoken",level:2},{value:"Known Caveats",id:"known-caveats",level:2},{value:"Account Creation",id:"account-creation",level:2},{value:"pCKB",id:"pckb",level:2},{value:"All Tokens Are ERC20 Tokens",id:"all-tokens-are-erc20-tokens",level:2},{value:"Hands-On EVM Training",id:"hands-on-evm-training",level:2}],u={toc:d};function k(e){var t=e.components,n=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Ethereum developers can simply use Godwoken as an EVM-compatible layer 2 chain, just like Arbitrum and Optimism."),(0,a.kt)("p",null,"This documentation can be used as an integration guide for wallets and exchanges, or as a reference for developing dApps on Godwoken. It describes how to interact with Godwoken using existing Ethereum development tools, known caveats of version 1 and corresponding workarounds."),(0,a.kt)("p",null,"The knowledge of Ethereum is a prerequisite for using this guide."),(0,a.kt)("h2",{id:"why-develop-on-godwoken"},"Why Develop on Godwoken?"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Security")," - Nervos Network is a Proof-of-Work (PoW) layer 1 chain and Godwoken is an optimistic rollup layer 2 chain built on Nervos Network. The security model is quite different from other EVM-compatible PoS/DPoS/PoA chains or sidechains. For more information, see the references section."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Low cost")," - A typical Godwoken transaction currently costs less than $0.0001."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"Ecosystem"),(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"With Force Bridge, assets from 3 chains (Nervos, Ethereum and BSC) are already available on Godwoken. The support for more chains (Cardano, BTC) is on the way."),(0,a.kt)("li",{parentName:"ul"},"The TVL of Godwoken is now nearly ",(0,a.kt)("a",{parentName:"li",href:"https://defillama.com/chains"},"100 million"),". A number of DeFi dApps (e.g. ",(0,a.kt)("a",{parentName:"li",href:"https://www.yokaiswap.com/"},"YokaiSwap"),", ",(0,a.kt)("a",{parentName:"li",href:"https://www.daruma.money/"},"DARUMA"),") and wallets (e.g. ",(0,a.kt)("a",{parentName:"li",href:"https://www.safepal.io/download"},"SafePal"),") have already been integrated. "))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://medium.com/nervosnetwork/blockchain-abstraction-and-interoperability-2-0-eea98d81b7b6"},(0,a.kt)("strong",{parentName:"a"},"Interoperability 2.0"))," - This may be the trump card of Godwoken. With the design abstractions of Nervos Network and Godwoken, it is possible to use any on-chain tool to port smart contracts to manipulate assets on the corresponding chain.")),(0,a.kt)("h2",{id:"known-caveats"},"Known Caveats"),(0,a.kt)("p",null,"Godwoken V1 is still under development and targets 100% EVM compatibility. Having the best compatibility is the objective of designing and building Godwoken/Polyjuice:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"The EVM being used in Godwoken/Polyjuice should be 100% compatible with the latest forked version of Ethereum."),(0,a.kt)("li",{parentName:"ul"},"Godwoken/Polyjuice should be 100% compatible with Ethereum over the Web3 interfaces by using the ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/nervosnetwork/godwoken-web3"},"Web3 layer"),".")),(0,a.kt)("p",null,"Given the wide architechtural and design differences between Godwoken/Polyjuice and Ethereum, several discrepancies inevitably exsit. "),(0,a.kt)("h2",{id:"account-creation"},"Account Creation"),(0,a.kt)("p",null,"It is mandatory to create an account on a Godwoken chain in order to use Polyjuice. Two ways to create a layer 2 account:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Make a deposit to Godwoken at layer 1;"),(0,a.kt)("li",{parentName:"ul"},"Call the Godwoken built-in ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/nervosnetwork/godwoken-scripts/blob/86b299f/c/contracts/meta_contract.c"},"meta_contract")," and create an account at layer 2.")),(0,a.kt)("h2",{id:"pckb"},"pCKB"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"pCKB")," is a defined layer 2 sUDT token type of choice when deploying a Godwoken/Polyjuice chain. The pCKB serves a similar purpose for the Godwoken/Polyjuice chain as ETH does for the Ethereum chain, i.e., to collect transaction fees. The gas price of a Godwoken transaction is measured with the pCKB that is designated to the Godwoken chain, and will be debited from the sender's account once the transaction is committed on the chain. Godwoken chain uses CKB as pCKB by default, while different Godwoken chains may use different token types as pCKB."),(0,a.kt)("h2",{id:"all-tokens-are-erc20-tokens"},"All Tokens Are ERC20 Tokens"),(0,a.kt)("p",null,"The difference in handling ERC20 tokens and native ETH tokens in Ethereum brought wETH into existence. But with Godwoken, this difference disappears. Either the native CKB or any sUDT token types are all layer 2 sUDT types in Godwoken."),(0,a.kt)("p",null,"From this layer 2 sUDT contract, Polyjuice ensures that all tokens on Godwoken are ERC20 compatible, regardless the tokens are backed by native CKBs or sUDTs. In other words, it will not be necessary to deal with native tokens and ERC20 tokens separately, as all the different tokens have the same ERC20 interface."),(0,a.kt)("h2",{id:"hands-on-evm-training"},"Hands-On EVM Training"),(0,a.kt)("p",null,"This section covers Nervos' Layer 2 EVM training. With each task in this section, developers can practice step-by-step on developing EVM dapps on Nervos platform so as to gain direct development experience and prepare for deploying their own applications. "),(0,a.kt)("p",null,"The following nine tasks will walk developers through the process. Each task will give instructions on what needs to be done, the guidance on all the necessary tooling and informative materials needed for completing the tasks:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://nervos.gitbook.io/layer-2-evm/tasks/1.create.godwoken.account"},"Create account on the EVM Layer 2 Testnet")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://nervos.gitbook.io/layer-2-evm/tasks/2.deploy.eth.contract"},"Deploy a Simple Ethereum Smart Contract on Polyjuice")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://nervos.gitbook.io/layer-2-evm/tasks/3.issue.contract.call"},"Issue a Smart Contract Call to the Deployed Smart Contract")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://nervos.gitbook.io/layer-2-evm/tasks/4.issue.sudt.deposit"},"Issue an SUDT Token on Layer 1 and Deposit it to Layer 2")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://nervos.gitbook.io/layer-2-evm/tasks/5.deploy.erc20.proxy.contract"},"Deploy the ERC20 Proxy Contract for the Deposited SUDT")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://nervos.gitbook.io/layer-2-evm/tasks/6.use.force.bridge.to.deposit"},"Use Force Bridge to Deposit Tokens on Ethereum to Polyjuice")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://nervos.gitbook.io/layer-2-evm/tasks/7.port.eth.dapp"},"Port an Existing Ethereum dApp to Polyjuice")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://nervos.gitbook.io/layer-2-evm/tasks/8.modify.dapp.support.force.bridge"},"Modify the Ported dApp so it Supports Ethereum Assets via Force Bridge")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("a",{parentName:"li",href:"https://nervos.gitbook.io/layer-2-evm/tasks/9.withdraw"},"Withdraw From Layer 2 Back to Layer 1"))))}k.isMDXComponent=!0}}]);